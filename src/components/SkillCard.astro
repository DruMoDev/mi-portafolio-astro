---
import { Icon } from "astro-icon/components";
import * as Icons from "@lucide/astro";
import type { Skill } from "../types";

interface Props {
  skill: Skill;
}

const { skill } = Astro.props;

const isIconify = skill.icon.includes(":");
const IconComponent = !isIconify
  ? ((Icons as Record<string, unknown>)[skill.icon] as typeof Icons.Code) || Icons.Code
  : null;
---

<div
  class="flex items-center gap-3 px-3 py-2 rounded-lg bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 hover:border-blue-300 dark:hover:border-blue-700 hover:bg-white dark:hover:bg-zinc-800 transition-all group"
>
  {
    isIconify ? (
      <Icon
        name={skill.icon}
        class={`w-5 h-5 group-hover:scale-110 transition-transform duration-300 ${skill.name === "Express" || skill.name === "Next.js" ? "dark:invert" : ""}`}
      />
    ) : (
      IconComponent && (
        <IconComponent class="w-5 h-5 text-zinc-500 dark:text-zinc-400 group-hover:text-blue-500 dark:group-hover:text-blue-400 transition-colors" />
      )
    )
  }
  <span class="text-sm text-nowrap font-medium text-zinc-700 dark:text-zinc-300">{skill.name}</span>
</div>
